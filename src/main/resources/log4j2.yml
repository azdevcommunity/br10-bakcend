Configuration:
  status: debug
  Appenders:
    JDBC:
      name: DatabaseAppender
      tableName: LOGS
      ConnectionSource:
        DriverManagerConnectionSource:
          driverClassName: org.postgresql.Driver
          url: ${spring:spring.datasource.url}
          user: ${spring:spring.datasource.username}
          password: ${spring:spring.datasource.password}
      Column:
        - name: LOG_LEVEL
          pattern: "%level"
        - name: LOGGER
          pattern: "%logger"
        - name: MESSAGE
          pattern: "%msg"
        - name: TIMESTAMP
          pattern: "%d{yyyy-MM-dd HH:mm:ss}"
        - name: EXCEPTION
          pattern: "%throwable"
        - name: ACTIVITY_ID
          pattern: "%X{ACTIVITY_ID}"

    Console:
      name: ConsoleAppender
      target: SYSTEM_OUT
      PatternLayout:
        pattern: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg [%X{ACTIVITY_ID}]%n%throwable"
      Filters:
        ThresholdFilter:
          level: debug
          onMatch: ACCEPT
          onMismatch: DENY

  Loggers:
    Root:
      level: info
      AppenderRef:
        - ref: DatabaseAppender
        - ref: ConsoleAppender
